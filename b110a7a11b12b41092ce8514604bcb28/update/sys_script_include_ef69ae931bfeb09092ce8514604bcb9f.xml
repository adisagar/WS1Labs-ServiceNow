<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_script_include">
    <sys_script_include action="INSERT_OR_UPDATE">
        <access>package_private</access>
        <active>true</active>
        <api_name>x_vmw_ws1uem.WS1UEMActions</api_name>
        <caller_access/>
        <client_callable>true</client_callable>
        <description/>
        <name>WS1UEMActions</name>
        <script><![CDATA[var WS1UEMActions = Class.create();
WS1UEMActions.prototype = Object.extendsObject(global.AbstractAjaxProcessor, {
    call_action: function() {

        var session_id = this.getParameter('sysparm_sid');
        gs.info("Running action flow from script ");
        gs.info("sid value " + session_id);

        var incidentrecord = new GlideRecordSecure('incident');
        incidentrecord.addQuery('sys_id', session_id);
        incidentrecord.query();
        if (incidentrecord.next()) {

            gs.info("Incident number " + incidentrecord.number);

            try {
                var inputs = {};
                inputs['current'] = incidentrecord; // GlideRecord of table:  
                inputs['table_name'] = 'incident';

                // Start Asynchronously: Uncomment to run in background.
                sn_fd.FlowAPI.getRunner().flow('x_vmw_ws1uem.ws1uemactionflow').inBackground().withInputs(inputs).run();

                // Execute Synchronously: Run in foreground.
                //		sn_fd.FlowAPI.getRunner().flow('x_vmw_uemconn_0.ws1uemactionfromscript').inForeground().withInputs(inputs).run();

            } catch (ex) {
                var messages = ex.getMessage();
                gs.info('Error in processing script ' + messages);
            }
        }

        return;
    },
    _privateFunction: function() { // this function is not client callable     
    }
});]]></script>
        <sys_class_name>sys_script_include</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2021-09-30 07:05:53</sys_created_on>
        <sys_id>ef69ae931bfeb09092ce8514604bcb9f</sys_id>
        <sys_mod_count>6</sys_mod_count>
        <sys_name>WS1UEMActions</sys_name>
        <sys_package display_value="VMware Workspace ONE ITSM Connector" source="x_vmw_ws1uem">b110a7a11b12b41092ce8514604bcb28</sys_package>
        <sys_policy>read</sys_policy>
        <sys_scope display_value="VMware Workspace ONE ITSM Connector">b110a7a11b12b41092ce8514604bcb28</sys_scope>
        <sys_update_name>sys_script_include_ef69ae931bfeb09092ce8514604bcb9f</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2021-09-30 09:37:00</sys_updated_on>
    </sys_script_include>
</record_update>
